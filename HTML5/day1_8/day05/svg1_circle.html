<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style>
        svg{background: #000;}
        body{text-align: center;}
    </style>
</head>
<body>
<h1>SVG事件监听</h1>
<svg id="s2" width="900" height="500">

</svg>
<script>
   function rn(min,max){
       var n=Math.random()*(max-min)+min;
       return Math.floor(n);
   }
   function rc(min,max) {
       var r = Math.floor(Math.random() * 256);
       var g = Math.floor(Math.random() * 256);
       var b = Math.floor(Math.random() * 256);
       return `rgb(${r},${g},${b})`;
   }
   for(var i=0;i<200;i++){
       var c =document.createElementNS("http://www.w3.org/2000/svg","circle");
       c.setAttribute("r",rn(2,5));
       c.setAttribute("cx",rn(0,900));
       c.setAttribute("cy",rn(0,500));
       c.setAttribute("fill",rc(0,255));
       c.setAttribute("fill-opacity",Math.random());
       s2.appendChild(c);
       //当前圆只能点击一次——将当前元素胡点击事件赋值null
       c.onclick = function(){
           this.onclick=null;
           var that = this;
           var timer = setInterval(function(){
               /*var r = that.getAttribute("r");
               r*=2;
               that.setAttribute("r",r);*/
               that.setAttribute("cx",rn(0,900));
               that.setAttribute("cy",rn(0,500));
              /* var p=that.getAttribute("fill-opacity");
               p*=0.9;
               that.setAttribute("fill-opacity",p);*/
              /* if(p<0.0001){
                   clearInterval(timer);
                   s2.removeChild(that);
               }*/
           },10);
       }
   }
</script>
</body>
</html>